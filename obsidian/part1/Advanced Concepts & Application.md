

Углубление в механизмы работы интерпретатора и использование стандартной библиотеки для реальных задач.

**Источник программы:** Stepik Course 512 (Bioinformatics Institute).
**Методология:** Pair Programming (один пишет, второй ревьюит).

---

## 1. Базовые принципы (Under the Hood)

Понимание того, как Python управляет данными, именами и стеком вызовов.

**Темы**
1.  **Objects & Memory:** `id`, изменяемые (list) vs неизменяемые (int, str, tuple) объекты. Почему `a += b` для списка меняет объект на месте, а для числа — создает новый.
2.  **Функции и Стек:** Рекурсия, Stack Overflow, как аргументы передаются в функции.
3.  **Namespaces (LEGB):** Local, Enclosing, Global, Built-in. Ключевые слова `global` и `nonlocal`.

**Задачи (Hard Mode)**
*   **Задача 1.1: Эмулятор Namespaces**
    Реализовать программу, которая эмулирует работу пространств имен.
    *   Команды: `create <namespace> <parent>`, `add <namespace> <var>`, `get <namespace> <var>`.
    *   Нужно уметь искать переменную, поднимаясь рекурсивно по родительским неймспейсам.
    *   *Пример:* Если переменную не нашли в `foo`, ищем в его родителе `global`.
*   **Задача 1.2: Стек вызовов (Buffer)**
    Реализовать класс `Buffer`, который накапливает числа. Когда их становится >= 5, он выводит сумму первой пятерки и удаляет их. (Понимание сохранения состояния).

---

## 2. Объектно-Ориентированное Программирование

Переход от скриптов к структурированному коду.

**Темы**
1.  **Classes & Instances:** `class`, `self`, `__init__`.
2.  **Inheritance:** Переопределение методов, `super()`, множественное наследование (MRO — Method Resolution Order).

**Задачи (Hard Mode)**
*   **Задача 2.1: Иерархия наследования**
    На вход подается описание иерархии классов (кто от кого наследуется). Затем — запросы вида "Является ли класс A предком класса B?".
    *   Нужно построить граф наследования и реализовать обход (BFS/DFS) для проверки родства.
*   **Задача 2.2: Loggable List (MRO)**
    Создать класс `LoggableList`, который наследуется от `list` и от миксина `Loggable`. При добавлении элемента (`append`) он должен писать событие в лог.
    *   Понять, почему важен порядок наследования: `class LoggableList(list, Loggable)` vs `class LoggableList(Loggable, list)`.

---

## 3. Ошибки и Исключения

Написание надежного кода, который не падает.

**Темы**
1.  `try` / `except` / `else` / `finally`.
2.  Иерархия исключений (почему `except Exception` ловит почти всё).
3.  Создание собственных исключений (`class BadDataError(Exception)`).

**Задача 3.1: Наследование Исключений**
Аналогично задаче 2.1, но для `Exception`.
Дано описание иерархии исключений. Затем список выброшенных ошибок. Нужно вывести те ошибки, которые **не нужно** ловить, потому что они уже были перехвачены обработчиком их предка ранее в списке.

---

## 4. Итераторы, Генераторы и Работа с Файлами

Эффективная работа с памятью и данными.

**Темы**
1.  **Iterators:** Протокол `__iter__` и `__next__`.
2.  **Generators:** `yield`, генераторные выражения. Отличие `range` в Python 2 и 3.
3.  **Files:** `open`, контекстные менеджеры `with`, работа с `os.path`.

**Задачи (Hard Mode)**
*   **Задача 4.1: Multifilter**
    Реализовать класс `multifilter`, который принимает итерируемый объект и список функций-условий. Допускает элемент, если он удовлетворяет хотя бы `n` условиям из списка.
*   **Задача 4.2: Primes Generator**
    Написать генератор (через `yield`), который бесконечно возвращает простые числа.
*   **Задача 4.3: Reverse File**
    Считать файл, перевернуть порядок строк (последняя станет первой) и записать в новый файл. **Важно:** файл может быть большим, читать его целиком в память (`readlines`) нельзя.

---

## 5. Стандартные инструменты (Functional Tools)

Лямбды и функциональный стиль.

**Темы**
1.  `lambda` функции.
2.  `map`, `filter`, `reduce`.
3.  `functools.partial`.
4.  PEP 8 — стандарты оформления кода (понять и простить).

**Задача 5.1: Mod Checker**
Используя `lambda`, написать функцию, которая проверяет делимость числа `x` на `15` без использования `def`.

---

## 6. Применение: Работа с Web и API

Выход во внешний мир.

**Темы**
1.  **RegEx (re):** Поиск шаблонов в тексте. `search`, `findall`, `sub`.
2.  **HTTP Requests:** Библиотека `requests`. GET запросы.
3.  **Formats:** CSV, JSON (сериализация/десериализация).

**Задачи (Hard Mode)**
*   **Задача 6.1: Ссылочный Краулер**
    Даны две ссылки A и B. Проверить, можно ли от страницы A перейти к странице B за **два шага** (A -> X -> B). Использовать регулярки для поиска ссылок `<a href="...">`.
*   **Задача 6.2: Numbers API**
    В файле список чисел. Для каждого числа сделать запрос к API `numbersapi.com` и узнать "Interesting Fact". Если факт "Boring" — пропустить. Результат сохранить в JSON.

---

## Capstone Project Part 2: "Wiki Graph"

**Задача:** Найти кратчайший путь между двумя статьями Википедии.
1.  Использовать API Википедии (или парсинг HTML).
2.  Построить граф ссылок.
3.  Найти путь через BFS (поиск в ширину).
4.  *Челлендж:* Сделать это асинхронно или многопоточно (если хватит смелости забежать вперед), чтобы ускорить поиск.

---

## Ресурсы (Прямые ссылки)
*   [Stepik 512: Python: основы и применение](https://stepik.org/course/512) — Основа этого плана.
*   [Official Python Tutorial: Classes](https://docs.python.org/3/tutorial/classes.html) — Читать параллельно с темой 2.
*   [Regex101](https://regex101.com/) — Для отладки регулярок.
