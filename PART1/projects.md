# 10 Python Core Tasks

## Foundation Tasks (3 задачи)

### Task 1: RLE Compression (Строки + Циклы)

**Цель:** Работа со строками, циклами, edge cases.

Реализуй алгоритм сжатия Run-Length Encoding.

- Вход: `"aaabbccccaa"`
- Выход: `"a3b2c4a2"`
- **Bonus:** Напиши функцию декодирования обратно.

**Что покрывает:** Циклы, строки, срезы, управление индексами.

---

### Task 2: Frequency Counter (Словари + Файлы)

**Цель:** Работа с dict, обработка текста.

Прочитай текстовый файл. Выведи топ-10 самых частых слов (регистронезависимо).

- Игнорируй знаки препинания.
- Результат: `[("the", 1203), ("of", 845), ...]`

**Что покрывает:** Словари, файловый ввод, сортировка, регулярки (опционально).

---

### Task 3: Spiral Matrix (Двумерные массивы)

**Цель:** Логика и многомерные списки.

Дано число `n`. Вывести матрицу `n x n`, заполненную по спирали от 1 до n².

```
n=3:
1 2 3
8 9 4
7 6 5
```

**Что покрывает:** Списки, индексация, алгоритмическое мышление.

---

## Advanced Tasks (7 задач)

### Task 4: LRU Cache Decorator (Декораторы + Замыкания)

**Цель:** Понимание декораторов, mutable state в замыканиях.

Напиши декоратор `@lru_cache(maxsize=5)`, который кэширует результаты вызова функции.

- Если аргументы повторяются, возвращай из кэша.
- Если кэш переполнен, удаляй самый старый элемент (LRU).

**Что покрывает:** Closures, словари, `functools.wraps`, аргументы декоратора.

```
@lru_cache(maxsize=3)
def fib(n):
    if n < 2:
        return n
    return fib(n-1) + fib(n-2)
```

---

### Task 5: Custom Iterator - Fibonacci (Итераторы)

**Цель:** Понимание протокола итератора.

Создай класс `Fibonacci`, который реализует бесконечный итератор чисел Фибоначчи.

```
fib = Fibonacci()
for i, num in enumerate(fib):
    print(num)
    if i > 10:
        break
# Выведет: 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55
```

**Что покрывает:** `__iter__`, `__next__`, `StopIteration`.

---

### Task 6: Context Manager - Timer (Context Managers)

**Цель:** Понимание `with` и RAII паттерна.

Реализуй класс `Timer`, который замеряет время выполнения блока кода.

```
with Timer("Task A"):
    time.sleep(2)
# Output: Task A took 2.001 seconds
```

**Что покрывает:** `__enter__`, `__exit__`, обработка исключений в `__exit__`.

---

### Task 7: Vector Class (Магические методы + Операторы)

**Цель:** Перегрузка операторов, magic methods.

Создай класс `Vector` для n-мерных векторов.

- Поддержка: `v1 + v2`, `v1 * scalar`, `v1 == v2`, `len(v)`, `v[0]`.
- Красивый вывод: `str(v)` -> `"Vector(1, 2, 3)"`.

**Что покрывает:** `__add__`, `__mul__`, `__eq__`, `__len__`, `__getitem__`, `__str__`, `__repr__`.

---

### Task 8: Multifilter Generator (Генераторы + Callable)

**Цель:** Композиция функций, генераторы.

Напиши класс `multifilter`, который фильтрует элементы по нескольким условиям.

- Принимает итерируемый объект и список функций-предикатов.
- Пропускает элемент, если он удовлетворяет хотя бы одному предикату (логика OR).
- Должен быть итератором (использовать `yield`).

```
def positive(x):
    return x > 0

def even(x):
    return x % 2 == 0

seq = multifilter([-2, -1, 0, 1, 2], [positive, even])
print(list(seq)) # [-2, 0, 1, 2]
```

**Что покрывает:** Генераторы, callable objects, итераторы.

---

### Task 9: Polymorphic Shape System (ООП + ABC)

**Цель:** Наследование, полиморфизм, абстрактные классы.

Создай иерархию классов геометрических фигур.

- Базовый класс `Shape` (Abstract Base Class) с методами `area()` и `perimeter()`.
- Классы `Circle`, `Rectangle`, `Triangle`, наследующиеся от `Shape`.
- Функция `total_area(shapes: list[Shape])`, которая считает суммарную площадь.

**Что покрывает:** ABC, inheritance, polymorphism, type hints.

---

### Task 10: Descriptor Protocol - Validated Attribute (Дескрипторы)

**Цель:** Понимание низкоуровневых механизмов атрибутов.

Создай дескриптор `PositiveNumber`, который гарантирует, что значение атрибута всегда положительное.

```
class BankAccount:
    balance = PositiveNumber()

    def __init__(self, balance):
        self.balance = balance

acc = BankAccount(100)
acc.balance = -50  # Должно кинуть ValueError
```

**Что покрывает:** `__get__`, `__set__`, `__delete__`, дескрипторы, property под капотом.

---

## Порядок решения

1. Foundation (1-3): 2-3 дня
2. Advanced (4-10): 1-2 недели

Каждую задачу решаете раздельно, потом code review друг у друга.
